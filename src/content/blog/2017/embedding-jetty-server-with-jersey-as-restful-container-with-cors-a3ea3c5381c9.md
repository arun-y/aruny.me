---
title: "Embedding Jetty Server with Jersey as RESTful container with CORS"
description: "Embedding Jetty Server with Jersey as RESTful container with CORS"
pubDatetime: "2017-01-13T16:37:51+00:00"
tags: ["cors", "embedded-jetty", "java"]
canonicalURL: "https://medium.com/@aruny/embedding-jetty-server-with-jersey-as-restful-container-with-cors-a3ea3c5381c9"
source: "medium"
---

> Imported from Medium: [https://medium.com/@aruny/embedding-jetty-server-with-jersey-as-restful-container-with-cors-a3ea3c5381c9](https://medium.com/@aruny/embedding-jetty-server-with-jersey-as-restful-container-with-cors-a3ea3c5381c9)

<p>I came across a scenario where I had to expose a Java SDK based server configuration as RESTFul service. I chose the jetty as embedded http server and jersey as RESTful container. After Googling a while I came across <a href="http://nikolaygrozev.wordpress.com/2014/10/16/rest-with-embedded-jetty-and-jersey-in-a-single-jar-step-by-step/">this link</a> which nicely explains how to embed a jetty server in a java programme.</p><p>However I also wanted this service available to other web application using CORS. So I wanted to enable jettty CORS filter for the same. After Googling again for a while I came across <a href="http://stackoverflow.com/questions/19530806/java-jetty-how-to-add-filter-to-embedded-jetty">this link</a>.</p><p>Merging idea from above two links finally made a working version of embedded jettey with Jersey supporting CORS.</p><pre>ServletContextHandler context = new ServletContextHandler(ServletContextHandler.SESSIONS);</pre><pre>context.setContextPath(“/”); <br>Server jettyServer = new Server(Integer.parseInt(9998));</pre><pre>jettyServer.setHandler(context);</pre><pre>ServletHolder jerseyServlet = context.addServlet( org.glassfish.jersey.servlet.ServletContainer.class, “/*”);</pre><pre>jerseyServlet.setInitOrder(0);</pre><pre>jerseyServlet.setInitParameter( “jersey.config.server.provider.classnames”,</pre><pre>MyServerConfig.class.getCanonicalName());</pre><pre>FilterHolder filterHolder = context.addFilter(org.eclipse.jetty.servlets.CrossOriginFilter<br>.class, “/*”, EnumSet.of(DispatcherType.REQUEST));</pre><pre>filterHolder.setInitParameter(“allowedOrigins”, “*”);</pre><pre>try { <br>   jettyServer.start(); jettyServer.join(); <br>} catch (Exception e) { <br>   LOGGER.error(“Error running ServerConfig service”, e); <br>} finally {<br>   jettyServer.destroy();<br>}</pre><p>Here “MyServerConfig.class” is resource class implementing RESTFul service.</p><p>One can now access <a href="http://:9998/">http://localhost:9998/</a></p><img src="https://medium.com/_/stat?event=post.clientViewed&referrerSource=full_rss&postId=a3ea3c5381c9" width="1" height="1" alt="">
